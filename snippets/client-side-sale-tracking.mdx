import SaleAttributes from "/snippets/sale-attributes.mdx";

Once the analytics script is installed, you can start tracking sale events in your application on the client-side.

<CodeGroup>

```typescript React
import { useAnalytics } from "@dub/analytics";
import { useState } from "react";

export function CheckoutForm() {
  const { trackSale } = useAnalytics();

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();

    // Track the sale event
    trackSale({
      eventName: "Purchase",
      customerExternalId: "cus_RBfbD57H",
      amount: 5000, // $50.00
      invoiceId: "in_1MtHbELkdIwH",
    });
  };

  return (
    <form onSubmit={handleSubmit}>
      ...
    </form>
  );
}
```

```html Other
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Checkout</title>
  </head>
  <body>
    <form id="checkoutForm">
      ...
      <button type="submit">Checkout</button>
    </form>

    <script>
      document.getElementById("checkoutForm").addEventListener("submit", function (e) {
        e.preventDefault();

        // Track the sale event
        dubAnalytics.trackSale({
          eventName: "Purchase",
          customerExternalId: "cus_RBfbD57H",
          amount: 5000, // $50.00
          invoiceId: "in_1MtHbELkdIwH",
        });
      });
    </script>
  </body>
</html>
```

</CodeGroup>

<SaleAttributes />

**When to track sale**

Track sale events only after a user successfully completes a purchase or payment-related action, such as:

  - Completing a checkout or order
  - Subscription payment
  - Invoice payment
  - Any paid trial or demo conversion
  
Ensure the event is triggered **only after the backend confirms the payment was successful**. This guarantees accurate sale data and prevents false or incomplete entries.
